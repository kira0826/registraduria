<?xml version="1.0" encoding="UTF-8"?>

<icegrid>
    <application name="ConsultantAuxiliar">
        <server-template id="ConsultantAuxiliarServer">
            <parameter name="index"/>
            <parameter name="host"/>
            <parameter name="port"/>
            <server id="ConsultantAuxiliarServer-${index}" exe="java" activation="always">
                <option>-jar</option>
                <option>/home/computacion2/icegrid_node/jars/consultantAuxiliar-all.jar</option>
                <property name="Ice.StdErr" value="/home/computacion2/icegrid_node/jars/ConsultantAuxiliarServer-${index}.stderr.log" />
                <adapter  name="ConsultantAuxiliarAdapter" endpoints="tcp -h ${host} -p ${port}">
                    <object identity="ConsultantAuxiliarManagerIdentity-${index}" type="::RegistryModule::ConsultantAuxiliarManager" property="Identity" />
                    <object identity="ConsultantManagerIdentity-${index}" type="::RegistryModule::ConsultantManager" property="Identity" />
                    <object identity="MathPrimesIdentity-${index}" type="::RegistryModule::MathPrimes" property="Identity" />
                </adapter>
            </server>   
        </server-template>
    </application>

    <node name="Node3">
        <server-instance template="ConsultantAuxiliarServer" index="1" host="10.147.19.147" port="11003"/>
    </node>

    <node name="Node4">
        <server-instance template="ConsultantAuxiliarServer" index="2" host="10.147.19.230" port="11004" />
    </node>

    <node name="Node5">
        <server-instance template="ConsultantAuxiliarServer" index="3" host="10.147.19.139" port="11005"/>
    </node>

    <node name="Node6">
        <server-instance template="ConsultantAuxiliarServer" index="4" host="10.147.19.137" port="11006" />
    </node>
</icegrid>